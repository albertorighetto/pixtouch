<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:PixTouch.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1280" d:DesignHeight="720"
        x:Class="PixTouch.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="PixTouch - Pixera Control Interface"
        Width="1280" Height="720"
        Background="#1E1E1E">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*,Auto">
        <!-- Top Bar - Connection Status -->
        <Border Grid.Row="0" Background="#2D2D30" Padding="10">
            <Grid ColumnDefinitions="Auto,*,Auto,Auto">
                <TextBlock Grid.Column="0" Text="PixTouch" 
                           FontSize="18" FontWeight="Bold" 
                           Foreground="#FFFFFF" VerticalAlignment="Center"/>
                
                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="10">
                    <TextBlock Text="Host:" Foreground="#CCCCCC" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding PixeraHost}" Width="150" IsEnabled="{Binding !IsConnected}"/>
                    <TextBlock Text="Port:" Foreground="#CCCCCC" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding PixeraPort}" Width="80" IsEnabled="{Binding !IsConnected}"/>
                </StackPanel>
                
                <TextBlock Grid.Column="3" Margin="20,0,0,0"
                           Text="{Binding ConnectionStatus}" 
                           FontSize="14" Foreground="#4EC9B0"
                           VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Grid Grid.Row="1" ColumnDefinitions="*,300">
            <!-- Left Panel - Encoders and Faders -->
            <Grid Grid.Column="0" RowDefinitions="*,*">
                <!-- Encoders -->
                <Border Grid.Row="0" Background="#252526" Margin="10">
                    <StackPanel>
                        <TextBlock Text="ENCODERS" FontSize="16" FontWeight="Bold" 
                                   Foreground="#FFFFFF" Margin="10"/>
                        <ItemsControl ItemsSource="{Binding Encoders}" Margin="10">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel Orientation="Horizontal"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Width="150" Height="150" 
                                            Background="#2D2D30" 
                                            BorderBrush="#3E3E42" 
                                            BorderThickness="1"
                                            CornerRadius="5"
                                            Margin="5"
                                            Padding="10">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Label}" 
                                                       FontSize="12" FontWeight="Bold"
                                                       Foreground="#FFFFFF"
                                                       TextAlignment="Center"/>
                                            <Ellipse Width="80" Height="80" 
                                                     Stroke="#007ACC" 
                                                     StrokeThickness="3"
                                                     Margin="0,10"/>
                                            <TextBlock Text="{Binding FormattedValue}" 
                                                       FontSize="18" FontWeight="Bold"
                                                       Foreground="#4EC9B0"
                                                       TextAlignment="Center"
                                                       Margin="0,5"/>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- Faders -->
                <Border Grid.Row="1" Background="#252526" Margin="10">
                    <StackPanel>
                        <TextBlock Text="FADERS" FontSize="16" FontWeight="Bold" 
                                   Foreground="#FFFFFF" Margin="10"/>
                        <ItemsControl ItemsSource="{Binding Faders}" Margin="10">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel Orientation="Horizontal"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Width="100" Height="200" 
                                            Background="#2D2D30" 
                                            BorderBrush="#3E3E42" 
                                            BorderThickness="1"
                                            CornerRadius="5"
                                            Margin="5"
                                            Padding="10">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Label}" 
                                                       FontSize="12" FontWeight="Bold"
                                                       Foreground="#FFFFFF"
                                                       TextAlignment="Center"/>
                                            <Slider Orientation="Vertical" 
                                                    Height="120"
                                                    Margin="0,10"
                                                    Value="{Binding CurrentValue}"
                                                    Minimum="{Binding Mapping.MinValue}"
                                                    Maximum="{Binding Mapping.MaxValue}"/>
                                            <TextBlock Text="{Binding FormattedValue}" 
                                                       FontSize="14" FontWeight="Bold"
                                                       Foreground="#4EC9B0"
                                                       TextAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Right Panel - Element Selection and Properties -->
            <Border Grid.Column="1" Background="#252526" Margin="10">
                <StackPanel>
                    <TextBlock Text="PROPERTIES" FontSize="16" FontWeight="Bold" 
                               Foreground="#FFFFFF" Margin="10"/>
                    <TextBlock Text="(Property editor coming soon)" 
                               Foreground="#CCCCCC" Margin="10"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Bottom Status Bar -->
        <Border Grid.Row="2" Background="#2D2D30" Padding="10">
            <Grid ColumnDefinitions="*,Auto">
                <TextBlock Grid.Column="0" Text="Ready" Foreground="#CCCCCC"/>
                <TextBlock Grid.Column="1" Text="PixTouch v1.0" Foreground="#CCCCCC"/>
            </Grid>
        </Border>
    </Grid>

</Window>
